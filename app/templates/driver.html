<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Driver</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
      const socket = io("http://192.168.88.187:5000");
      socket.on("connect", () => {
        console.log("WebSocket connected");
      });
      socket.on("disconnect", () => {
        console.log("WebSocket disconnected");
      });
    </script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='/driver/driver.css') }}"
    />
    <script
      src="{{ url_for('static', filename='/driver/driver.js') }}"
      defer
    ></script>
  </head>
  <body>
    <header>
      <div id="driver">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24px"
          viewBox="0 -960 960 960"
          width="24px"
          fill="#FFFFFF"
        >
          <path
            d="M560-440h200v-80H560v80Zm0-120h200v-80H560v80ZM200-320h320v-22q0-45-44-71.5T360-440q-72 0-116 26.5T200-342v22Zm160-160q33 0 56.5-23.5T440-560q0-33-23.5-56.5T360-640q-33 0-56.5 23.5T280-560q0 33 23.5 56.5T360-480ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-480H160v480Zm0 0v-480 480Z"
          />
        </svg>
        <p id="driverID"></p>
      </div>
      <form onsubmit="variants(event)" id="form">
        <input
          type="text"
          name="line"
          placeholder="Linia"
          id="lineInput"
          required
        />
        <p>/</p>
        <input type="text" name="variant" id="brigade" required />
        <button id="show_variants" type="submit">Szukaj</button>
      </form>
      <div id="line_data">
        <div id="line"></div>
        <svg
          width="50px"
          height="50px"
          viewBox="0 0 24.00 24.00"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          stroke="#eee"
          transform="matrix(1, 0, 0, 1, 0, 0)"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke="#eee"
            stroke-width="0.048"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <path
              d="M5 12H19M19 12L13 6M19 12L13 18"
              stroke="#eee"
              stroke-width="2.4"
              stroke-linecap="round"
              stroke-linejoin="round"
            ></path>
          </g>
        </svg>
        <div id="direction-container">
          <div id="direction"></div>
        </div>
      </div>
    </header>
    <main>
      <form onsubmit="login(event)" id="driver_number">
        <input type="text" name="driver_number" placeholder="Numer" required />
        <button id="show_variants" type="submit">Zaloguj</button>
      </form>
    </main>
    <div id="versions"></div>
    <div id="stops"></div>
    <div id="buttons"></div>
  </body>
</html>
